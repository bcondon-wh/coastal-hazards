var Vulnerability = function(args) {
	LOG.info('Vulnerability.js::constructor: Vulnerability class is initializing.');
	var me = (this === window) ? {} : this;

	me.name = 'vulnerability';
	me.isActive = false;
	me.collapseDiv = args.collapseDiv;
	me.shareMenuDiv = args.shareMenuDiv;

	LOG.debug('Vulnerability.js::constructor: Vulnerability class initialized.');

	return $.extend(me, {
		init: function() {
			LOG.debug('Vulnerability.js::init()');
			me.bindParentMenu();
			me.bindShareMenu();
		},
		enterSection: function() {
			me.isActive = false;
		},
		leaveSection: function() {
			me.isActive = false;
		},
		updateFromSession: function() {
			LOG.info('Vulnerability.js::updateFromSession()');
			if (CONFIG.session.objects.view.activeParentMenu === me.name) {
				if (!me.collapseDiv.find('>:last-child').hasClass('in')) {
					me.collapseDiv.find('>:last-child').addClass('in');
					me.collapseDiv.find('>:last-child').attr('style', 'height:auto');
				}

			} else {
				if (me.collapseDiv.find('>:last-child').hasClass('in')) {
					me.collapseDiv.find('>:last-child').removeClass('in');
					me.collapseDiv.find('>:last-child').removeAttr('style');
				}
			}
		},
		bindParentMenu: function() {
			me.collapseDiv.on({
				'show': function(e) {
					if (e.target.className !== 'accordion-group-item') {
						LOG.debug('Storms.js:: Entering storms section.');
						CONFIG.session.objects.view.activeParentMenu = me.name;
						me.enterSection();
					}
				},
				'hide': function(e) {
					if (e.target.className !== 'accordion-group-item') {
						LOG.debug('Historical.js:: Leaving storms section.');
						me.leaveSection();
					}
				}
			});
		},
		bindShareMenu: function() {
			CONFIG.ui.bindShareMenu({
				menuItem: me.shareMenuDiv
			});
		}
	});
};